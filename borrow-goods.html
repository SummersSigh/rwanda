<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>借货 - Rwanda信用体系平台</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.6.347/pdf.min.js"></script>
</head>
<body>
    <div class="sidebar">
        <nav>
            <ul>
                <li><a href="index.html">首页</a></li>
                <li><a href="borrow-goods.html">借货</a></li>
                <li><a href="borrow-money.html">借款</a></li>
                <li><a href="customer-service.html">客服</a></li>
            </ul>
        </nav>
    </div>
    <div class="main-content">
        <header>
            <div class="container">
                <h1>借货管理</h1>
            </div>
        </header>

        <section id="content">
            <div class="container">
                <div class="button-group">
                    <button onclick="showUploadModal()">上传合同</button>
                    <button onclick="downloadTemplate()">下载合同模板</button>
                </div>

                <table id="contractTable">
                    <thead>
                        <tr>
                            <th>合同名称</th>
                            <th>上传时间</th>
                            <th>上传人</th>
                            <th>审核状态</th>
                            <th>操作</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>合同1.pdf</td>
                            <td>2023-10-01 10:00</td>
                            <td>张三</td>
                            <td>已审核</td>
                            <td>
                                <button onclick="showDetail('合同1.pdf')">详情</button>
                                <button onclick="deleteContract(this)">作废</button>
                            </td>
                        </tr>
                        <tr>
                            <td>合同2.pdf</td>
                            <td>2023-10-02 11:00</td>
                            <td>李四</td>
                            <td>待审核</td>
                            <td>
                                <button onclick="showDetail('合同2.pdf')">详情</button>
                                <button onclick="deleteContract(this)">作废</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- 上传合同弹窗 -->
        <div id="uploadModal" class="modal">
            <div class="modal-content">
                <span class="close" onclick="closeUploadModal()">&times;</span>
                <h2>上传合同</h2>
                <div id="dropZone" ondrop="dropHandler(event)" ondragover="dragOverHandler(event)">
                    <p>拖拽文件到这里或点击上传</p>
                    <input type="file" id="fileInput" accept=".pdf" onchange="handleFileSelect(event)">
                </div>
            </div>
        </div>

        <!-- 合同详情弹窗 -->
        <div id="detailModal" class="modal">
            <div class="modal-content">
                <span class="close" onclick="closeDetailModal()">&times;</span>
                <h2>合同详情</h2>
                <iframe id="pdfViewer" src="" width="100%" height="500px"></iframe>
            </div>
        </div>

        <!-- 删除确认弹窗 -->
        <div id="deleteModal" class="modal">
            <div class="modal-content">
                <h2>确认删除</h2>
                <p>您确定要删除此合同记录吗？</p>
                <div class="modal-buttons">
                    <button onclick="confirmDelete()">确定</button>
                    <button onclick="cancelDelete()">取消</button>
                </div>
            </div>
        </div>
    </div>
    <script src="borrow-goods.js"></script>
</body>
</html> 